**[en](README.md) ru**

###### автор: Данила "akshin_" Аксёнов

# CurrencyConverter



### Содержание:

1. [Описание](#описание);
2. [Использование](#использование);
3. [Доступные команды](#доступные-команды).



<hr/>



### Описание:

**CurrencyConverter** - это **консольная утилита**, написанная на C# <small>_(.NET 10, но никакие из последних нововведений не используются, поэтому подойдёт и более старая версия)_</small>, которая может **конвертировать валюты** и берёт курсы их обмена из **API ЦБ РФ** (Центрального Банка Российской Федерации).

**Решение состоит из 5 проектов**:
1. **`ConsoleLogger`** - обеспечивает _удобный вывод в консоль_ в определённых случаях;
2. **`Model`** - реализует _семантическую логику программы_, т.е. классы (сущности) `Currency` и `CurrencyConverter`;
3. **`CBRSercive`** - отвечает за _обращение к API ЦБ РФ_ и _обработку ответа_ (_результата запроса_);
4. **`Builder`** - осуществляет построение экземпляра `CurrencyConverter` на основе данных XML-файла, получаемого из **`CBRService`**;
5. **`View`** - _контактирует напрямую с пользователем_, предоставляя [определённый функционал взаимодействия с программой](#доступные-команды).



<hr/>



### Использование:

1. Соберите проект **`CurrencyConverter.View`** <small>_(вследствие имеющихся зависимостей, остальные 4 проекта также будут собраны)_</small>;
2. Запустите собранный проект **без дополнительных аргументов командной строки**;

_Примечание_: при запуске программа попытается обновить XML-файл с курсами валют наиболее актуальными данными и, вне зависимости от степени успеха предыдущего шага, выгрузить все имеющиеся в XML-файле валюты в словарь валют (в конвертер).

3. Взаимодействуйте с программой при помощи **[доступных команд](#доступные-команды)**.



<hr/>



### Доступные команды:

_Примечание_: команды могут вводиться **в любом регистре**.

**<u>1</u>.** **`exit`**, **`q`**, **`quit`** - завершает программу.

**<u>2</u>.** **`h`**, **`help`** - отображает справочный текст (список доступных команд).

**<u>3</u>.** **`l`**, **`list`** - отображает список доступных валют.

**<u>4</u>.** **`update [_actual_date_]`** - обновляет XML-файл курсами валют, актуальными на самую позднюю дату, не превосходящую `_actual_date_`;

_**Примечание 1**_: необходимый формат для `_actual_date_` - `дд.ММ.гггг`;

_**Примечание 2**_: `_actual_date_` является **необязательным параметром**; его значение по умолчанию - "сегодня" (т.е. день, в который была вызвана команда);

**Пример**: `UpDaTe 01.02.2003`.

**<u>5</u>.** **`load`** - выгружает все валюты из XML-файла в конвертер и, в случае успеха, удаляет старые.

**<u>6</u>.** **`reload [_actual_date_]`** - эквивалентна последовательному вызову команд `update [_actual_date_]` и `load`;

_**Примечания 1 и 2**_: см. примечания 1 и 2 для команды `update [_actual_date_]`.

**<u>7</u>.** **`_amount_ _char_code_from_ {to / -> / =>} _char_code_to_`** - конвертирует `_amount_` единиц валюты с символьным кодом, равным `_char_code_from_`, в валюту с символьным кодом, равным `_char_code_to_`;

_**Примечание 1**_: `_amount_` должно быть валидным вещественным числом; _в качестве десятичного разделителя может выступать как точка, так и запятая_;

_**Примечание 2**_: `_char_code_from_` и `_char_code_to_` должны состоять из 3-ёх латинских букв;

**Пример 1**: `19999.99 rub -> kzt`;

**Пример 2**: `0,25 USd To JPy`.

**<u>8</u>.** **`_char_code_from_ {to / -> / =>} _char_code_to_`** - вычисляет курс "F к T", где F это валюта с символьным кодом, равным `_char_code_from_`, а T - валюта с символьным кодом, равным `_char_code_to_`;

_**Примечание 1**_: эта команда эквивалентна вызову `1 _char_code_from_ {to / -> / =>} _char_code_to_`;

_**Примечание 2**_: см. примечание 2 для предыдущей команды;

**Пример 1**: `BYB TO RUB`;

**Пример 2**: `rSd => tRy`.
